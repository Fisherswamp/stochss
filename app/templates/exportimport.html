{% extends "base.html" %}
{% block title%}Manage Simulations{% endblock %}

{% block content %}
<div class="span9">
    <div class="row-fluid">
        <div class"span9">
            <div class="span9">
                <div class="well">
                    {% if isAdminUser %}
                    <input id="globalOp" type="checkbox"> Operate on all system data (admin only)
                    {% endif %}
                    <table width="100%">
                        <tr>
                            <td valign="top" width="50%">
                                <h3> Export a Backup Archive </h3>
                                <br />
                                <button class="btn-primary btn-large" id="export">Export</button>
                                <br />
                            </td>
                            <td valign="top" width="50%">
                                <h3> Import a Backup Archive </h3>

                                1. Upload an archive:
                                <br />
                                <input id="fileupload" type="file" name="files[]" multiple>
                                <div id="progresses"></div>
                                <!-- The global progress bar -->

                                <div id="archiveSelectDiv" style="display: none;">
                                    <br />

                                    2. Select an archive to import:
                                    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered">
                                        <thead>
                                            <tr>
                                                <th width="40pt"></th>
                                                <th width="40pt">Select</th>
                                                <th>Archive Name</th>
                                            </tr>
                                        </thead>
                                        <tbody id="archiveSelect">
                                        </tbody>
                                    </table>

                                    <br />
                                    <br />

                                    3. Select members of the archive to import:
                                    <table id="importTable" width="100%">
                                        <tr class="modelContainerTr">
                                            <th>Models</th>
                                        </tr>
                                        <tr class="modelContainerTr">
                                            <td valign="top">
                                                <table>
                                                </table>
                                                <table  cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th width="40pt">Import</th>
                                                            <th>Model</th>
                                                            <th>Type</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="modelContainer">
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr class="stochkitContainerTr">
                                            <th>Stochkit Jobs</th>
                                        </tr>
                                        <tr class="stochkitContainerTr">
                                            <td valign="top">
                                                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th width="40pt"></th>
                                                            <th>Job name</th>
                                                            <th>Type</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="stochkitJobContainer">
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr class="sensitivityContainerTr">
                                            <th>Sensitivity Jobs</th>
                                        </tr>
                                        <tr class="sensitivityContainerTr">
                                            <td valign="top">
                                                <table width="100%" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered>">
                                                    <thead>
                                                        <tr>
                                                            <th width="40pt"></th>
                                                            <th>Job name</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="sensitivityJobContainer">
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <br />
                                    <button class="btn-primary btn-large" id="import">Import</button>
                                </div>
                                <br />
                                <div id="msg"></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block jscontent %}
<script type="text/javascript" src = "/static/js/underscore.js"></script>
<script type="text/javascript" src = "/static/utils.js"></script>
<script type="text/javascript" src = "/static/js/backbone.js"></script>
<script type="text/javascript" src = "/static/model/stochkit.js"></script>
<link rel="stylesheet" href="/static/css/nv.d3.css">

<script type="text/javascript" src = "/static/js/purl.js"></script>
<script type="text/javascript" src = "/static/js/canvas2image.js"></script>
<script type="text/javascript" src = "/static/js/splot.js"></script>
<script type="text/javascript" src = "/static/js/jquery.jqplot.js"></script>
<script type="text/javascript" src = "/static/js/d3.v3.js"></script>
<script type="text/javascript" src = "/static/js/nv.d3.js"></script>
<script src="/static/js/jfu/js/jquery.iframe-transport.js"></script>
<script src="/static/js/jfu/js/jquery.fileupload.js"></script>
<script type="text/javascript" src = "/static/importMain.js"></script>
{% endblock %}
